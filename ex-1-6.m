% M-file: ex1-6.m
ur = 1500;
p = 0.05;
g1 = 0.05 *1E-2;
g2 = 0.07 *1E-2;
N = 300;
u0 = 4 * pi * 1E-7;
i = 1.0;
l1 = 0.37;
l2 = l1;
l3 = l1 - g1;
l4 = l1 - g2;
r1 =  l1 / (u0*ur*p*0.07);
rg1 = g1/(u0*ur*p*0.07*1.05);
rg2 = g2/(u0*ur*p*0.07*1.05);
r2 = (2*(l2/(u0*ur*p*0.07))) + rg2 + (l4 / (u0*ur*p*0.07));
r3 = (2*(l2/(u0*ur*p*0.07))) + rg1 + (l3 / (u0*ur*p*0.07));
rpar = r2 * r3/(r2 + r3);
rtot = rpar + r1;
fmm = N*i;
flux_tot = fmm/rtot;
flux_dir = (fmm - flux_tot * r1)/ r2;
flux_esq = (fmm - flux_tot * r1)/ r3;
B1 = flux_dir / (p*0.07*1.05);
B2 = flux_esq / (p*0.07*1.05);
disp(['B1 = ' num2str(B1)]);
disp(['B2 = ' num2str(B2)]);
disp(['fluxo total = ' num2str(flux_tot)]);
disp(['fluxo esquerdo = ' num2str(flux_esq)]);
disp(['fluxo direito = ' num2str(flux_dir)]);
